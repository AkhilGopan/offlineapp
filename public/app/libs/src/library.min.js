!function(){"use strict";angular.module("application.core",["application.thirdparty","application.widgets"])}(),function(){"use strict";angular.module("mainServerapp",["application.core","application.config","application.routes","welcomeEmployee","login","dashboard"]).run(["$q","$http","$stateParams","$state","$rootScope","$location","$urlRouter","$route","$window","$compile","localStorageService","pathservice","REGEX",function(e,t,o,n,a,r,i,s,u,l,c,d,p){d.consts(function(e){a.paths=e}),a.regex=p,t.defaults.headers.common["x-access-token"]=a.token,a.$state=n,a.$on("$stateChangeStart",function(e,t,o){a.bodyClass=t.data.bodyClass,a.isHome=t.data.isHome,a.title=t.data.pageTitle,a.teal=t.data.teal,a.lbg="undefined"==typeof t.data.lbg?t.data.lbg:"nil",a.nopanel=!t.data.nopanel}),a.lang="en",a.$on("$translateChangeSuccess",function(e,t){var o=t.language;a.lang=o}),a.toaster={"time-out":3e3,limit:3,"close-button":!0,"animation-class":"toast-right-center"},console.log("Done loading dependencies and configuring module!")}])}(),function(){"use strict";angular.module("application.thirdparty",["ui.router","ui.bootstrap","ngRoute","chieffancypants.loadingBar","LocalStorageModule","ngFileUpload","toaster","pascalprecht.translate","ngCookies"])}(),function(){"use strict";function e(e,t,o,n,a,r,i,s){r.includeSpinner=!0,i.setPrefix("serverLan").setStorageType("localStorage").setNotify(!0,!0).setStorageCookie(1,"<path>"),a.debugInfoEnabled(!1),n.defaults.headers.get||(n.defaults.headers.get={}),s.useStaticFilesLoader({prefix:"./public/app/translations/locale-",suffix:".json"}).useMissingTranslationHandlerLog().useSanitizeValueStrategy().useStorage("translationService").registerAvailableLanguageKeys(["en","sp"]).preferredLanguage("en").fallbackLanguage("en"),n.defaults.useXDomain=!0,delete n.defaults.headers.common["X-Requested-With"],n.interceptors.push("httpRequestInterceptor"),n.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",n.defaults.headers.common["Access-Control-Allow-Origin"]="*",n.defaults.headers.common["Access-Control-Allow-Methods"]="GET,PUT,POST,DELETE",n.defaults.headers.common["Access-Control-Allow-Headers"]="Content-Type, Authorization",n.defaults.headers.common["Access-Control-Allow-Credentials"]="true"}angular.module("application.config",["application.thirdparty"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$compileProvider","cfpLoadingBarProvider","localStorageServiceProvider","$translateProvider"]}(),function(){"use strict";angular.module("application.core").constant("PATHS",{TEMPLATE:base_url+"public/app/modules/"}).constant("REGEX",{email:/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i,whitespace:/\S/,number:"^[0-9]*$",youtube:/^(https?\:\/\/)?((www\.)?youtube\.com|youtu\.?be)\/.+$/,facebook:/(?:http:\/\/)?(?:www\.)?facebook\.com\/(?:(?:\w)*#!\/)?(?:pages\/)?(?:[\w\-]*\/)*([\w\-]*)/,instagram:/(https?:\/\/)?([\w\.]*)instagram\.com\/([a-zA-Z0-9_-]*)$/,twitter:/(https?:\/\/)?([\w\.]*)twitter\.com\/([a-zA-Z0-9_-]*)$/,hexcode:/(^#?[0-9A-F]{6}$)|(^#?[0-9A-F]{3}$)/i,time:{hhmm:/([01]\d|2[0-3]):([0-5]\d)/}})}(),function(){"use strict";angular.module("application.widgets",[])}(),function(){"use strict";function e(e){function o(e,t,o){$(t).on("click",function(e){return e.preventDefault(),$("body").toggleClass("navbar-more-show"),$("body").hasClass("navbar-more-show")?t.closest("li").addClass("active"):t.closest("li").removeClass("active"),!1})}var n={bindToController:!0,controller:t,controllerAs:"vm",link:o,restrict:"A",scope:{}};return n}function t(){}angular.module("application.widgets").directive("menu",e),e.$inject=["$timeout"],t.$inject=[]}(),function(){"use strict";function e(e){function o(e,t,o){$(t).click(function(){var e=$(this),t=$.trim(e.find(".txt").clone().children().remove().end().text()),o=$("#telNumber");$(o).val(o.val()+t)})}var n={bindToController:!0,controller:t,controllerAs:"vm",link:o,restrict:"A",scope:{}};return n}function t(){}angular.module("application.widgets").directive("phonepad",e),e.$inject=["$timeout"],t.$inject=[]}(),function(){"use strict";function e(e,t){return{link:function(o,n){var a=function(e,o){var a="MeanApp";o.data&&o.data.pageTitle&&(a=o.data.pageTitle+" | "+a),t(function(){n.text(a)},0,!1)};e.$on("$stateChangeSuccess",a)}}}function t(){}angular.module("application.widgets").directive("updateTitle",e),e.$inject=["$rootScope","$timeout"];var o={bindToController:!0,controller:t,controllerAs:"vm",restrict:"AE",scope:{}};return o}(),function(){"use strict";function e(e){function o(e,t,o){$("[data-animation-delay]").each(function(){var e=$(this).data("animation-delay");$(this).css({"-webkit-animation-delay":e,"-moz-animation-delay":e,"-o-animation-delay":e,"-ms-animation-delay":e,"animation-delay":e})}),$("[data-animation]").waypoint(function(e){"down"==e&&$(this).addClass("animated "+$(this).data("animation"))},{offset:"90%"}).waypoint(function(e){"up"==e&&$(this).removeClass("animated "+$(this).data("animation"))},{offset:"100%"})}var n={bindToController:!0,controller:t,controllerAs:"vm",link:o,restrict:"A",scope:{}};return n}function t(){}angular.module("application.widgets").directive("waypoint",e),e.$inject=["$timeout"],t.$inject=[]}(),function(){"use strict";var e=null,t=null;angular.module("application.routes",[]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$compileProvider",function(o,n,a,r,i){e=n,a.html5Mode(!0),t=o,n.otherwise("/404"),t.state("404",{url:"/404",templateUrl:"errorpages/404.html",controller:"not_found",data:{pageTitle:"Page not Found"}}),t.state("reset",{url:"/reset",templateUrl:"pages/password.html",controller:"resetPassword",data:{pageTitle:"Reset Your Password"}})}])}(),function(){"use strict";function e(){function e(){}var t=this;t.title="Controller",e()}function t(e,t,o,n,a,r,i,s,u,l){var c=this;c.logout=function(){r.clearAll(),o.token={},o.user={},i.logOut()},c.terminate=function(){u.terminateEmployeeSession()},e.changeLanguage=function(e){l.use(e)}}angular.module("mainServerapp").controller("not_found",e).controller("main",t),t.$inject=["$scope","$state","$rootScope","$http","$window","localStorageService","SessionService","toaster","empService","$translate"]}(),angular.module("mainServerapp").factory("pathservice",["$http",function(e){var t={consts:function(t){e.get("/auth/getpaths").success(function(e){t(e)}).error(function(e){console.log("Error: "+e)})}};return t}]),function(){"use strict";function e(e,t,o,n,a,r){var i={data:{role_id:""},status:{status_id:0},sessions:{sess:{}},getSession:function(){e.get("/auth/get_session",{cache:!1}).success(function(e){if("undefined"==typeof e.userid||null==e.userid||0==e){t.path("/login")}else;}).error(function(e){t.path("/login"),console.log("Error: "+e)})},loginResolver:function(){var t=a.defer();return e.get("/auth/get_session",{cache:!1}).success(function(e){0==e||null==e?(r.go("/login"),t.resolve({success:!1,data:null})):t.resolve({success:!0,data:e})}).error(function(e,o){t.reject(e)}),t.promise},rootPage:function(){var t=a.defer();return e.get("/auth/get_session",{cache:!1}).success(function(e){0==e||null==e?(r.go("/login"),t.resolve({success:!1,data:null})):t.resolve({success:!0,data:e})}).error(function(e,o){t.reject(e)}),t.promise},isLoggedIn:function(){var o=a.defer();return e.get("/auth/get_session",{cache:!1}).success(function(e){0==e||null==e?(r.go("/login"),o.resolve(!1)):(t.path("/dashboard"),o.resolve(!0))}).error(function(e,t){o.reject(e)}),o.promise},logOut:function(){e.post("/api/logout").success(function(e){null==e.user&&(t.path("/login"),n.pop("success","Success","You have successfully logged out"))}).error(function(e){console.log("Error: "+e)})},userInfo:function(o){e.get("/auth/get_session",{cache:!1}).success(function(e){return o(e)}).error(function(e){t.path("/login"),console.log("Error: "+e)})}};return i}function t(e,t){return{request:function(e){return e.headers["x-access-token"]=t.get("_meanLanApp"),e}}}angular.module("mainServerapp").factory("SessionService",e).factory("httpRequestInterceptor",t),e.$inject=["$http","$location","$window","toaster","$q","$state"],t.$inject=["$rootScope","localStorageService"]}(),angular.module("mainServerapp").factory("PermissionService",["$http","$uibModal","$location","$state","$window","toaster",function(e,t,o,n,a,r){var i={checkPermission:function(t){var a="undefined"==typeof t?o.$$path:t,i={pos:a};e.post("/api/v1/check_permission",i).then(function(e){return 1==e.data||(r.pop("error","Unauthenticated access","You are not permitted."),void n.go("404"))})}};return i}]),function(){"use strict";function e(e){function t(t){return a||(a=e.localStorage.getItem(t)),a}function o(t,o){var n;o&&""!==o||(o="en"),n=o,a=o,e.localStorage.setItem(t,o)}function n(t,o){var n;o&&""!==o||(o="en"),n=o,a=o,e.localStorage.setItem(t,o)}var a,r={get:t,set:o,put:n};return r}angular.module("mainServerapp").factory("translationService",e),e.$inject=["$window"]}(),function(){"use strict";var e=null,t=null;angular.module("dashboard",["application.thirdparty"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$compileProvider","PATHS",function(o,n,a,r,i,s){e=n,t=o,t.state("dashboard",{url:"/dashboard",templateUrl:s.TEMPLATE+"dashboard/dashboard.html",controller:"dashboardController",controllerAs:"vm",data:{pageTitle:"Dashboard",bodyClass:"dashboard"}})}])}(),function(){"use strict";function e(e,t,o,n,a,r,i,s,u,l,c,d,p,g){function f(e){e.success?(a.pop("success","Done",e.message),n.path("/employee")):(v.disabled=!1,v.loader=!1,a.pop("error","Failed",e.message)),v.user.auth=null}function m(e){a.pop("error","Error",e),console.log(e),v.user.auth=null,v.disabled=!1,v.loader=!1}function h(){}i.getSession();var v=this;v.user={},v.disabled=!1,v.loader=!1,this.auth=function(e){e&&4==e.length&&(v.disabled=!0,v.loader=!0,p(function(){d.loginpad(e).then(f,m)},2e3))},h()}angular.module("dashboard").controller("dashboardController",e),e.$inject=["$scope","$state","$rootScope","$location","toaster","$http","SessionService","localStorageService","$uibModal","PATHS","PermissionService","dashboardService","$timeout","$translate"]}(),function(){"use strict";function e(e){function t(t){return e.post("/api/v1/employeeLogin",{minifpin:t}).then(o,n("Error getting all users"))}function o(e){return e.data}function n(e){return function(){return{success:!1,message:e}}}var a={};return a.loginpad=t,a}angular.module("dashboard").factory("dashboardService",e),e.$inject=["$http"]}(),function(){"use strict";var e=null,t=null;angular.module("welcomeEmployee",["application.thirdparty"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$compileProvider","PATHS",function(o,n,a,r,i,s){function u(e){return e.loginResolver().then(function(e){return e})}function l(e){return e.authEmployee().then(function(e){return e})}e=n,t=o,t.state("employeedashboard",{url:"/employee",templateUrl:s.TEMPLATE+"employee/welcome.html",controller:"employeeWelcomeController",controllerAs:"vm",data:{pageTitle:"Welcome Employee",bodyClass:"menuavaled employeescreen"},resolve:{session:u,employee:l}}),u.$inject=["SessionService"],l.$inject=["empService"]}])}(),function(){"use strict";function e(e,t,o,n,a){function r(t){return e.post("/api/v1/employeeLogin",{minifpin:t}).then(u,l("Error getting all users"))}function i(){e.post("/api/v1/terminateempsession").success(function(e){e.data.employee._id?alert("Failed"):(t.path("/dashboard"),o.pop("success","Success","You have terminated session"))}).error(function(e){console.log("Error: "+e)})}function s(){var o=n.defer();return e.get("/api/v1/authenticateemployee",{cache:!1}).success(function(e){0==e.data||null==e.data?(t.path("/dashboard"),o.resolve({success:!1,data:null})):o.resolve({success:!0,data:e})}).error(function(e,t){o.reject(e)}),o.promise}function u(e){return e.data}function l(e){return function(){return{success:!1,message:e}}}var c={};return c.loginpad=r,c.terminateEmployeeSession=i,c.authEmployee=s,c}angular.module("welcomeEmployee").factory("empService",e),e.$inject=["$http","$location","toaster","$q","$state"]}(),function(){"use strict";function e(e,t,o,n,a,r,i,s,u,l,c,d){function p(){}i.getSession();p()}angular.module("welcomeEmployee").controller("employeeWelcomeController",e),e.$inject=["$scope","$state","$rootScope","$location","toaster","$http","SessionService","localStorageService","$uibModal","PATHS","PermissionService","empService"]}(),function(){"use strict";var e=null,t=null;angular.module("login",["application.thirdparty"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$compileProvider","PATHS",function(o,n,a,r,i,s){e=n,t=o,t.state("/",{url:"/",templateUrl:s.TEMPLATE+"login/login.html",controller:"login",controllerAs:"vm",data:{pageTitle:"Login",bodyClass:"login"}}),t.state("/login",{url:"/login",templateUrl:s.TEMPLATE+"login/login.html",controller:"login",controllerAs:"vm",data:{pageTitle:"Login",bodyClass:"login"}})}])}(),function(){"use strict";function e(e,t,o,n,a,r,i,s){var u=this;this.buttontext="Sign In",this.authenticate=function(){if(this.buttontext="Signing...",u.buttontext="Wait..",e.authenticate.$valid){var t=s.login(u.credential);t.then(function(e){e.data.success?(o.token=e.data.data.token,r.defaults.headers.common["x-access-token"]=e.data.data.token,i.set("_meanLanApp",e.data.data.token),i.set("_meanLanAppLogIn",1),u.buttontext="Logined",n.path("/dashboard"),a.pop("success","Success",e.data.message)):a.pop("error","Failed",e.data.message),u.buttontext="Sign In"},function(e){e.success||a.pop("error","Failed",e.message)})}else u.buttontext="Sign In",u.submitted=!0}}angular.module("login").controller("login",e),e.$inject=["$scope","$state","$rootScope","$location","toaster","$http","localStorageService","loginService"]}(),function(){"use strict";function e(e,t,o){return{login:function(o){var n={};n.email=o.email,n.password=o.pwd,n.token=o.token;var a=t.defer();return e.post("api/login",n).success(function(e){null!=e?a.resolve({success:!0,data:e}):a.resolve({success:!1,data:null})}).error(function(e,t){a.reject(e)}),a.promise}}}angular.module("login").service("loginService",e),e.$inject=["$http","$q","$rootScope"]}();