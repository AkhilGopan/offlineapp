<!DOCTYPE html>
<html ng-app="mainServerapp">
<!--[if IE 9 ]><html class="ie9"><![endif]-->
    <head>
        <script>
        var base_url = '/'; </script>
		<base href="/">

        <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="description" content="Login, registration forms">
	    <meta name="author" content="Seong Lee">

        <title update-title> </title>
			
		<script  type="text/javascript" src="./public/service-worker-registration.js"></script>

		<link href="/vendors/bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
		<link href="/vendors/bower_components/animate.css/animate.css" rel="stylesheet">
		<link href="/vendors/bower_components/angular-loading-bar/src/loading-bar.css" rel="stylesheet">
		<link href="/vendors/bower_components/AngularJS-Toaster/toaster.css" rel="stylesheet">
		
		<link href="/public/assets/css/animation.css" rel="stylesheet">
		<link href="/public/assets/css/checkbox/orange.css" rel="stylesheet">
		<link href="/public/assets/css/preview.css" rel="stylesheet">
		<link href="/public/assets/css/authenty.css" rel="stylesheet">
		<link href="/public/assets/css/menu.css" rel="stylesheet">
		<link href="/public/assets/css/custom.css" rel="stylesheet">
	
		<!-- Font Awesome CDN -->
		<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
		
		<!-- Google Fonts -->
		<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,700,300' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

    
	    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	    <!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	    <![endif]-->

        <script src="./vendors/bower_components/jquery/dist/jquery.min.js"></script>
        <script src="./vendors/bower_components/angular/angular.min.js"></script>
	

<script>
/*if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('public/service-worker.js').then(function(registration) {
    //Registration was successful
    console.log('ServiceWorker registration successful with scope: ', registration.scope);
  }).catch(function(err) {
    //registration failed :(
    console.log('ServiceWorker registration failed: ', err);
  });
}*/
     /* function sendMessage(message) {
        return new Promise(function(resolve, reject) {
          if (navigator.serviceWorker.controller) {
            var messageChannel = new MessageChannel();
            messageChannel.port1.onmessage = function (event) {
            	alert()
              if (event.data.error) {
                reject(event.data.error);
              } else {
                resolve(event.data);
              }
            };

            navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);
          } else {
          	alert()
            reject("This page isn't currently controlled by a service worker. Please reload and try again.");
          }
        });
      }*/


    </script>
    </head>

   <body ng-controller="main as core" class="{{bodyClass}}" ng-cloak>

		<div class="materialdropdown">
			<div class="button-group" uib-dropdown on-toggle="toggled(open)">
				<i id="icon"></i>
				<a uib-dropdown-toggle id="input" href="">{{lang == 'sp' ? "Spanish" : "English"}}</a>
				  <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="input">
				    <li><a ng-show="lang == 'en'" ng-click="changeLanguage('sp')" translate="BUTTON_LANG_SP"></a></li>
				    <li><a ng-show="lang == 'sp'" ng-click="changeLanguage('en')" translate="BUTTON_LANG_EN"></a></li>
				  </ul>
			</div>
		</div>

		<ng-include src="'./public/template/topmenu.html'" ng-if="!($state.includes('dashboard') || $state.includes('/login'))"></ng-include>
		<div ui-view autoscroll="true"> </div>

		<toaster-container toaster-options="toaster"></toaster-container>
	</body>
	
	<script src="./vendors/bower_components/angular-translate/angular-translate.js"></script>
	<script src="./vendors/bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script>
	<script src="./vendors/bower_components/angular-cookies/angular-cookies.js"></script>
	<script src="./vendors/bower_components/angular-translate-storage-cookie/angular-translate-storage-cookie.js"></script>
	<script src="./vendors/bower_components/angular-translate-storage-local/angular-translate-storage-local.js"></script>
	<script src="./vendors/bower_components/angular-translate-handler-log/angular-translate-handler-log.min.js"></script>

 	<!-- inject:js -->
	<script src="/public/app/libs/angular-animate.min.js"></script>
	<script src="/public/app/libs/angular-local-storage.js"></script>
	<script src="/public/app/libs/angular-route.min.js"></script>
	<script src="/public/app/libs/angular-ui-router.min.js"></script>
	<script src="/public/app/libs/loading-bar.js"></script>
	<script src="/public/app/libs/ng-file-upload-shim.min.js"></script>
	<script src="/public/app/libs/ng-file-upload.min.js"></script>
	<script src="/public/app/libs/toaster.min.js"></script>
	<script src="/public/app/libs/ui-bootstrap-tpls-0.6.0.js"></script>
	<script src="/public/app/libs/ui-bootstrap.min.js"></script>
	<script src="/public/app/libs/src/library.min.js"></script>
	<!-- endinject -->
 
 	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script>
 	<script src="/public/assets/js/bootstrap.min.js"></script>
 	<script src="/public/assets/js/jquery.icheck.min.js"></script>
	<script src="/public/assets/js/waypoints.min.js"></script>

	<!-- authenty js -->
	<script src="/public/assets/js/authenty.js"></script>

	<!-- preview scripts -->
	<script src="/public/assets/js/preview/jquery.malihu.PageScroll2id.js"></script>
	<script src="/public/assets/js/preview/jquery.address-1.6.min.js"></script>
	<script src="/public/assets/js/preview/scrollTo.min.js"></script>
<!-- 	<script src="/public/assets/js/preview/init.js"></script> -->


	<!-- preview scripts -->
	<script>
		(function($) {
			
			// get full window size
			$(window).on('load resize', function(){
			    var w = $(window).width();
			    var h = $(window).height();

			    $('section').height(h);
			});		

			// scrollTo plugin
			$('#signup_from_1').scrollTo({ easing: 'easeInOutQuint', speed: 1500 });
			$('#forgot_from_1').scrollTo({ easing: 'easeInOutQuint', speed: 1500 });
			$('#signup_from_2').scrollTo({ easing: 'easeInOutQuint', speed: 1500 });
			$('#forgot_from_2').scrollTo({ easing: 'easeInOutQuint', speed: 1500 });
			$('#forgot_from_3').scrollTo({ easing: 'easeInOutQuint', speed: 1500 });
			
			
			// set focus on input
			var firstInput = $('section').find('input[type=text], input[type=email]').filter(':visible:first');

			if (firstInput != null) {
	    firstInput.focus();
	}
			
			$('section').waypoint(function (direction) {
				var target = $(this).find('input[type=text], input[type=email]').filter(':visible:first');
				target.focus();
			}, {
	      offset: 300
	  }).waypoint(function (direction) {
				var target = $(this).find('input[type=text], input[type=email]').filter(':visible:first');
		  	target.focus();
	  }, {
	      offset: -400
	  });
			
			
			
		})(jQuery);
	</script>
	</body>
</html>